using System;
using System.Media;
using System.Windows.Forms;

namespace QuizApp
{
    public partial class Form1 : Form
    {
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        private string[] questions = {
            "Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© 'ÙƒØªØ§Ø¨'ØŸ",
            "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ù„Ù ÙƒØªØ§Ø¨ 'Ø§Ù„Ø£ÙŠØ§Ù…'ØŸ",
            // Ø£Ø¶Ù Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù‡Ù†Ø§
        };

        private string[][] choices = {
            new string[] { "Ù…ÙƒØªØ¨Ø§Øª", "ÙƒØªØ¨", "ÙƒØªÙŠØ¨Ø§Øª" },
            new string[] { "Ø·Ù‡ Ø­Ø³ÙŠÙ†", "Ù†Ø¬ÙŠØ¨ Ù…Ø­ÙÙˆØ¸", "Ø£Ø­Ù…Ø¯ Ø£Ù…ÙŠÙ†" },
            // Ø£Ø¶Ù Ø¨Ù‚ÙŠØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù‡Ù†Ø§
        };

        private string[] correctAnswers = {
            "ÙƒØªØ¨", "Ø·Ù‡ Ø­Ø³ÙŠÙ†", // Ø£Ø¶Ù Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡Ù†Ø§
        };

        private int currentQuestionIndex = 0;
        private int correctAnswersCount = 0;
        private int timeLeft = 15;
        private Timer timer;

        public Form1()
        {
            InitializeComponent();
            InitializeTimer();
            ShowQuestion(currentQuestionIndex);
        }

        private void InitializeTimer()
        {
            timer = new Timer();
            timer.Interval = 1000; // 1 Ø«Ø§Ù†ÙŠØ©
            timer.Tick += Timer_Tick;
        }

        private void Timer_Tick(object sender, EventArgs e)
        {
            timeLeft--;
            lblTimer.Text = timeLeft.ToString();

            if (timeLeft == 0)
            {
                timer.Stop();
                MessageBox.Show("Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!");
                ShowNextQuestion();
            }
        }

        private void ShowQuestion(int index)
        {
            if (index < questions.Length)
            {
                lblQuestion.Text = questions[index];
                btnChoice1.Text = choices[index][0];
                btnChoice2.Text = choices[index][1];
                btnChoice3.Text = choices[index][2];
                timeLeft = 15;
                lblTimer.Text = timeLeft.ToString();
                timer.Start();
            }
            else
            {
                ShowFinalResult();
            }
        }

        private void CheckAnswer(string selectedAnswer)
        {
            timer.Stop();

            if (selectedAnswer == correctAnswers[currentQuestionIndex])
            {
                PlaySound("correct.wav");
                MessageBox.Show("Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ˜Š");
                correctAnswersCount++;
            }
            else
            {
                PlaySound("wrong.wav");
                MessageBox.Show($"Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! ğŸ˜¢ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: {correctAnswers[currentQuestionIndex]}");
            }
        }

        private void PlaySound(string soundFile)
        {
            try
            {
                SoundPlayer player = new SoundPlayer(soundFile);
                player.Play();
            }
            catch (Exception ex)
            {
                MessageBox.Show("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª: " + ex.Message);
            }
        }

        private void ShowFinalResult()
        {
            string resultMessage = $"Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: {correctAnswersCount} Ù…Ù† {questions.Length}\n";

            if (correctAnswersCount >= 18)
                resultMessage += "Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª Ø¨Ø·Ù„ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©! ğŸ†";
            else if (correctAnswersCount >= 12)
                resultMessage += "Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù…! ğŸ‘";
            else
                resultMessage += "Ù„Ø§ Ø¨Ø£Ø³! Ø§Ù„Ù…Ù‡Ù… Ø£Ù†Ùƒ ØªØ¹Ù„Ù…Øª Ø´ÙŠØ¦Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹. ğŸ’ª";

            MessageBox.Show(resultMessage);
            MessageBox.Show("Ø´ÙƒØ±Ø§Ù‹ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø±Ø­Ù…ÙˆÙ†");
        }

        private void btnChoice1_Click(object sender, EventArgs e)
        {
            CheckAnswer(btnChoice1.Text);
        }

        private void btnChoice2_Click(object sender, EventArgs e)
        {
            CheckAnswer(btnChoice2.Text);
        }

        private void btnChoice3_Click(object sender, EventArgs e)
        {
            CheckAnswer(btnChoice3.Text);
        }

        private void btnSubmit_Click(object sender, EventArgs e)
        {
            CheckAnswer(txtAnswer.Text);
        }

        private void btnNext_Click(object sender, EventArgs e)
        {
            ShowNextQuestion();
        }

        private void btnPrevious_Click(object sender, EventArgs e)
        {
            ShowPreviousQuestion();
        }

        private void ShowNextQuestion()
        {
            currentQuestionIndex++;
            ShowQuestion(currentQuestionIndex);
        }

        private void ShowPreviousQuestion()
        {
            if (currentQuestionIndex > 0)
            {
                currentQuestionIndex--;
                ShowQuestion(currentQuestionIndex);
            }
        }
    }
}








